"use strict";function initDragAndDrop(r){if(!r.type)throw new Error("Drag And Drop: property 'type' not specified!");if(!r.wrapperId||""==r.wrapperId)throw new Error("Drag And Drop: property 'wrapperId' not specified!");switch(r.type.toLocaleLowerCase()){case"sort":if(!r.sortableContainerId)throw new Error("Drag And Drop: property 'sortableContainerId' not specified!");{var t=r;const d=document.querySelector("#"+t.wrapperId);if(!d)throw new Error(`Drag And Drop: Element with id '${t.wrapperId}' was not found when initializing 'Drag And Sort'!`);d.addEventListener("dragstart",r=>{var e;n(r,d,t),null!=(e=null==t?void 0:t.afterDragstartCallback)&&e.call(t,r.target,d)}),d.addEventListener("dragend",r=>{var e;o(r,d),null!=(e=null==t?void 0:t.afterDragendCallback)&&e.call(t,r.target,d)}),d.addEventListener("dragover",r=>{var e;l(r,d,t),null!=(e=null==t?void 0:t.afterDragoverCallback)&&e.call(t,r.target,d)})}break;case"clone":if(!r.cloneFromContainerId)throw new Error("Drag And Drop: property 'cloneFromContainerId' not specified!");if(!r.cloneToContainerId)throw new Error("Drag And Drop: property 'cloneToContainerId' not specified!");{var a=r;const i=document.querySelector("#"+a.wrapperId);if(!i)throw new Error(`Drag And Drop: Element with id '${a.wrapperId}' was not found when initializing 'Drag And Clone'!`);let t;i.addEventListener("dragstart",r=>{var e=r.target;n(r,i,a),e.parentElement&&e.parentElement.id==a.cloneFromContainerId&&((t=e.cloneNode(!0)).classList.add("dragging"),t.style.display="none"),null!=(e=null==a?void 0:a.afterDragstartCallback)&&e.call(a,r.target,i,t)}),i.addEventListener("dragend",r=>{var e;o(r,i),null!=(e=null==a?void 0:a.afterDragendCallback)&&e.call(a,r.target,i,t),t=void 0}),i.addEventListener("dragover",r=>{var e;t?l(r,i,a,t):l(r,i,a),t&&(t.classList.remove("dragging"),t.removeAttribute("style")),null!=(e=null==a?void 0:a.afterDragoverCallback)&&e.call(a,r.target,i,t)})}break;default:throw new Error("Drag And Drop: Unsupported type!")}const n=(r,e,t)=>{r=r.target;!r||"true"!==r.getAttribute("draggable")||"sort"==t.type&&r.parentElement&&r.parentElement.id!==t.sortableContainerId||r.classList.add("dragging")},o=(r,e)=>{r=r.target;r&&"true"===r.getAttribute("draggable")&&r.classList.remove("dragging")},l=(r,e,t,a)=>{r.preventDefault();var n,o=r.target,t="sort"==t.type?t.sortableContainerId:t.cloneToContainerId;o&&o.id===t&&!o.contains(e)&&(t=o,n=r.clientY,r=null==(t=Array.from(o.querySelectorAll("[draggable=true]:not(.dragging)")).reduce((r,e)=>{var t=e.getBoundingClientRect(),t=n-t.top-t.height/2;return t<0&&t>(r?r.offset:Number.NEGATIVE_INFINITY)?{offset:t,element:e}:r},null))?void 0:t.element,t=a||e.querySelector(".dragging"))&&(null==r?o.appendChild(t):o.insertBefore(t,r))}}
//# sourceMappingURL=drag_and_drop.min.js.map